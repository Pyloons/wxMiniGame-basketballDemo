{"version":3,"sources":["power.js"],"names":["cc","Class","extends","Component","properties","score","type","Node","default","controller","onLoad","node","height","clockStart","deltaTime","on","Date","now","update","dt"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,eAAO;AACHC,kBAAMN,GAAGO,IADN;AAEHC,qBAAS;AAFN,SADC;;AAMRC,oBAAY;AACRH,kBAAMN,GAAGO,IADD;AAERC,qBAAS;AAFD;AANJ,KAHP;;AAeL;;AAEAE,UAjBK,oBAiBK;AAAA;;AAEN,aAAKC,IAAL,CAAUC,MAAV,GAAmB,CAAnB;AACA,aAAKC,UAAL,GAAkB,KAAlB;AACA,aAAKC,SAAL,GAAiB,CAAjB;;AAEA,aAAKT,KAAL,CAAWU,EAAX,CAAc,SAAd,EAAyB,YAAM;AAC3B;AACA,kBAAKJ,IAAL,CAAUC,MAAV,GAAmB,CAAnB;AACH,SAHD;;AAKA,aAAKH,UAAL,CAAgBM,EAAhB,CAAmB,YAAnB,EAAiC,YAAM;AACnC,kBAAKD,SAAL,GAAiBE,KAAKC,GAAL,EAAjB;AACA;AACA,kBAAKJ,UAAL,GAAkB,IAAlB;AACH,SAJD;;AAMA,aAAKJ,UAAL,CAAgBM,EAAhB,CAAmB,cAAnB,EAAmC,YAAM;AACrC;AACA,kBAAKF,UAAL,GAAkB,KAAlB;AACH,SAHD;AAIH,KAtCI;AAwCLK,UAxCK,kBAwCGC,EAxCH,EAwCO;AACR,aAAKL,SAAL,GAAiBE,KAAKC,GAAL,KAAa,KAAKH,SAAnC;AACA,YAAG,KAAKD,UAAL,IAAmB,KAAKC,SAAL,GAAiB,IAAvC,EAA6C;AACzC,iBAAKH,IAAL,CAAUC,MAAV,IAAoBO,KAAK,GAAzB;AACH;AACJ;AA7CI,CAAT","file":"power.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        score: {\r\n            type: cc.Node,\r\n            default: null\r\n        },\r\n        \r\n        controller: {\r\n            type: cc.Node,\r\n            default: null\r\n        }\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n\r\n        this.node.height = 0;\r\n        this.clockStart = false;\r\n        this.deltaTime = 0;\r\n\r\n        this.score.on('recover', () => {\r\n            // console.log('power recover');\r\n            this.node.height = 0;\r\n        });\r\n\r\n        this.controller.on('stickStart', () => {\r\n            this.deltaTime = Date.now();\r\n            // console.log('power stickStart');\r\n            this.clockStart = true;\r\n        });\r\n\r\n        this.controller.on('stickRelease', () => {\r\n            // console.log('power stickRelease');\r\n            this.clockStart = false;\r\n        });\r\n    },\r\n\r\n    update (dt) {\r\n        this.deltaTime = Date.now() - this.deltaTime;\r\n        if(this.clockStart && this.deltaTime < 1000) {\r\n            this.node.height += dt * 200;\r\n        }\r\n    },\r\n});\r\n"]}